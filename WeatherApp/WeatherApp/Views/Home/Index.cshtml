@{
    ViewData["Title"] = "Hava Durumu Uygulaması";
}
<div id ="content">
<h1>Hava Durumu Uygulaması</h1>
<p>Lütfen bir şehir adı girin:</p>

<input type="text" id="cityInput" placeholder="Şehir Adı">
<button id="getWeatherBtn">Hava Durumu Getir</button>

    <div id="weatherResult" class="weather-result"></div>

<script>
    document.getElementById("getWeatherBtn").addEventListener("click", function() {
        let city = document.getElementById("cityInput").value;
        if (city) {
            fetch(`/Home/GetWeather?city=${city}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById("weatherResult").innerHTML = data;
                })
                .catch(error => console.error('Hata:', error));
        }
    });
</script>
</div>

<div class="popular-cities">
    <div class="city-box" id="city-istanbul">
        <img src="~/images/istanbul.png" alt="Weather Icon">
        <h3>İstanbul</h3>
        <p><span class="temp"></span></p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-ankara">
        <img src="~/images/ankara.png" alt="Weather Icon">
        <h3>Ankara</h3>
        <p> <span class="temp"></span></p>
        <p> <span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-izmir">
        <img src="~/images/izmir.png" alt="Weather Icon">
        <h3>İzmir</h3>
        <p><span class="temp"></span></p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-bursa">
        <img src="~/images/bursa.png" alt="Weather Icon">
        <h3>Bursa</h3>
        <p><span class="temp"></span></p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-antalya">
        <img src="~/images/antalya.png" alt="Weather Icon">
        <h3>Antalya</h3>
        <p><span class="temp"></span></p>
        <p><span class="desc"></span></p>
    </div>
</div>

<div class="popular-cities-abroad">
    <div class="city-box" id="city-paris">
        <img src="~/images/paris.png" alt="Weather Icon">
        <h3>Paris</h3>
        <p><span class="temp"></span></p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-londra">
        <img src="~/images/londra.png" alt="Weather Icon">
        <h3>Londra</h3>
        <p><span class="temp"></span>°C</p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-berlin">
        <img src="~/images/berlin.png" alt="Weather Icon">
        <h3>Berlin</h3>
        <p><span class="temp"></span>°C</p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-moscow">
        <img src="~/images/moscow.png" alt="Weather Icon">
        <h3>Moskova</h3>
        <p><span class="temp"></span>°C</p>
        <p><span class="desc"></span></p>
    </div>
    <div class="city-box" id="city-washington">
        <img src="~/images/nyc.png" alt="Weather Icon">
        <h3>Washington</h3>
        <p><span class="temp"></span>°C</p>
        <p><span class="desc"></span></p>
    </div>
</div>

<script>
    function normalizeCityId(city) {
    return city.toLowerCase()
        .replace(/ı/g, "i")
        .replace(/ü/g, "u")
        .replace(/ö/g, "o")
        .replace(/ç/g, "c")
        .replace(/ş/g, "s")
        .replace(/ğ/g, "g");
}

const cities = ["Istanbul", "Ankara", "Izmir", "Bursa", "Antalya"];

cities.forEach(city => {
    fetch(`/Home/GetWeather?city=${city}`)
        .then(response => response.text()) 
        .then(data => {
            let cityId = "city-" + city.toLowerCase(); 
            document.querySelector(`#${cityId} .temp`).innerHTML = data; 
        })
        .catch(error => console.error(`Hata: ${city}`, error));
});

</script>




<script>

     const citiesAbroad = ["Paris", "Londra", "Berlin", "Moscow", "Washington"]; 
    citiesAbroad.forEach(city => {
        fetch(`/Home/GetWeather?city=${city}`)
            .then(response => response.text()) 
            .then(data => {
                    let cityId = "city-" + city.toLowerCase();
                document.querySelector(`#${cityId} .temp`).innerHTML = data;
            })
            .catch(error => console.error(`Hata: ${city}`, error));
    });
</script>